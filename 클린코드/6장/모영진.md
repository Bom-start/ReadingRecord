# 6장. 객체와 자료 구조

- [자료 추상화](1)
- [자료/객체 비대칭](2)
- [디미터 법칙](3)
- [자료 전달 객체](4)
- [결론](5)

## 자료 추상화<a name="1"></a>

- 객체를 포함하는 자료에 따라서 추상화 여부를 결정한다.

```java
public interface Vihicle {
    // 정확한 값보다 객체의 행위가 중요하므로 인터페이스로 추상화
    double getPercentFuelRemaining(); 
}
```

## 자료/객체 비대칭<a name="2"></a>

- 객체는 추상화 뒤로 자료를 숨긴채 자료를 다루는 함수만 공개

- 자료 구조는 자료를 그대로 공개하며 별다른 함수는 제공하지 않는다.

- 객체 지향 코드에서 어려운 변경은 절차적인 코드에서 쉽다. 
  반대로 절차적인 코드에서 어려운 변경은 객체지향 코드에서 쉽다.

## 디미터 법칙<a name="3"></a>

- 모듈은 자신이 조작하는 객체의 속사정을 몰라야 한다.

- 객체는 자료를 숨기고 함수를 공개한다.

```java
// 이 코드는 디미터 법칙을 위반한다. 이런 코드를 기차 충돌이라 한다.
final String oututDir = ctxt.getOptions().getScratchDir().getAbsolutePath();

// 위의 코드는 아래의 코드처럼 작성해야 한다.
Options opts = ctxt.getOptions();
File scratchDir = opts.getScratchDir();
final String outputDir = scratchDir.getAbsolutePath();
```

## 자료 전달 객체<a name="4"></a>

- 자료 구조체의 전형적인 형태는 공개 변수만 있고 함수는 없는 클래스, DTO가 여기에 해당한다.

- 빈(Bean)도 여기에 해당한다. 빈은 private 변수를 조회/설정 함수로 조작한다.

## 결론<a name="5"></a>

#### 객체

- 객체는 동작을 공개하고, 자료를 숨긴다. 따라서 기존 동작을 변경하지 않으면서 객체 타입을 추가하기 쉽다.

- 반면, 기존 객체에 새 동작을 추가하는건 어렵다.

- 따라서 새로운 <span style="color:red">자료 타입</span>을 추가하는 유연성이 필요하면 객체가 적합하다.

#### 자료구조

- 자료구조는 별다른 동작없이 자료를 노출한다.

- 기존 자료 구조에 새 동작을 추가하기 쉽다.

- 따라서 새로운 <span style="color:red">동작</span>을 추가하는 유연성이 필요하면 자료 구조와 절차적인 코드가 더 적합하다.
