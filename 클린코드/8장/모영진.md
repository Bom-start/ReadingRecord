# 8장. 경계

- [외부 코드 사용하기](1)

- [경계 살피고 익히기](2)

- [학습 테스트는 공짜 이상이다](3)

- [아직 존재하지 않는 코드를 사용하기](4)

- [깨끗한 경계](5)

## 외부 코드 사용하기<a name="1"></a>

- 외부 코드와 내부 코드의 경계는 변경되더라도 프로그램에 영향을 주지 않는 방향으로 작성해야 한다.

```java
// Map -> 외부 코드, Sensor -> 내부 코드
Map<String, Sensor> sensors = new HashMap<Sensor>();
Sensor s = sensor.get(sensorId);

// 위의 코드는 아래의 코드로 변경될 수 있다.
// 외부 코드인 Map을 내부 코드인 Sensor 내부로 숨겼다.
public class Sensors {
  private Map sensors = new HashMap();
  
  public Sensor getById(String id) {
    return (Sensor) sensors.get(id);
  }
}
```



## 경계 살피고 익히기<a name="2"></a>

- 외부 코드를 사용할 때는 문서를 읽으며 사용할지 말지를 결정한다.

- 외부 코드를 호출하기 전에 먼저 간단한 테스트 케이스를 작성해보고, 외부 코드를 호출하자.



## 학습테스트는 공짜 이상이다<a name="3"></a>

- 새 패키지 버전이 나온다면 학습 테스트를 돌려 차이가 있는지 확인하자

- 학습 테스트는 패키지가 예상대로 작동하는지 검증한다.



## 아직 존재하지 않는 코드를 사용하기<a name="4"></a>

- 알 수 없는 영역, 즉 아직 구현되지 않은 영역에 대해서는 인터페이스로 정의해두고 설계하자 (DIP)



## 깨끗한 경계<a name="5"></a>

- 통제가 불가능한 외부 코드 대신 통제가 가능한 우리 코드에서 의존하는것이 좋다. 그래야 외부코드에 휘둘리지 않는다.

- 외부 패키지를 호출하는 코드를 가능한 줄여 경계를 관리하자.
