PropertyEditor는 스프링 @MVC의 바인딩 기능에 효과적으로 활용

but 매번 바인딩을 할때마다 새로운 오브젝트를 만들어야 한다는 약점이 있음

propertyEditor를 대신할 수 있는 새로운 타입 변환 API 도입

converter 인터페이스임

변환과정에서 메소드가 한번만 호출됨

변환 작업 중에 상태를 인스턴스 변수로 저장하지 않음

멀티 스레드 환경에서 안전하게 공유

Converter메소드는 소스 타입에서 타깃 타입으로의 단방향 변환만 지원

소스 타입의 오브젝트를 받아서 타깃 타입으로 변환해주면 됨

ConversionService는 여러 종류의 컨버터를 이용해서

하나 이상의 타입 변환 서비스를 제공해주는 오브젝트를 만들때 사용하는 인터페이스

Converter와 같은 새로운 타입 변환 오브젝트는 모두 멀티스레드에서 동시 접근이 허용되는 안정성 보장

프로퍼티 에디터처럼 매번  오브젝트를 만들 필요가 없다.

@InitBinder를 통한 수동 등록

일부 컨트롤러에만 직접 구성한 ConversionService를 적용한다거나,

하나이상의 ConversionService를 만들어두고 컨트롤러에 따라 다른 변환 서비스를 선택하고 싶을때 사용

ConfigurableWebBindingInitializer를 이용해 모든 컨트롤러에 컨버전 서비스를 적용하는 방법이 있음

Formatter와 FormattingConversionService

포매터 인터페이스는 오브젝트를 문자열로 변환해주는 print() 메소드와 문자열을 오브젝트로 변환해주는 parse() 메소드 두개로 구성

@NumberFormat

다양한 타입의 숫자 변환을 지원

@DateTimeFormat

날짜와 시간 정보기반의 애노테이션 포매터 제공

WebDataBinder 설정 항목

HTTP 요청정보를 컨트롤러 메소드의 파라미터나 모델에 바인딩할 때 사용되는 바인딩 오브젝트

보안을 위해 원래 폼에서 수정하도록 허용했던 필드 외에는 모델에 바인딩되지 않도록 제한해야함

스프링은 WebDataBinder 안에 바인딩 허용한 필드와 바인딩 불가한 필드를 설정할 수 있도록 지원

requiredFields

파라미터가 존재하는지 판단

validator

검증을 하기 위한 용도, 가장 대표적으로는 값을 입력했는지 확인

검증에 실패했으면 Error띄움

@Valid 에노테이션을 통해 자동검증을 사용하는 방법도 있음

@NotNull , @Min 등도 검증에 사용

MessageCodeResolver

messages.properties 파일에 입는 값들을 변환해주는 역할


