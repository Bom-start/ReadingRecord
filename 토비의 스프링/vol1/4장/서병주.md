# Chapter4 - 예외

> "모든 예외는 절적하게 복구되든지 작업을 중단시키고 운영자나 개발자, 클라이언트 등에게 통보돼야 한다."

어느 한 문제로 인해서 발생한 예외를 처리하지 않고 넘기거나 무책임하게 throws Exception으로 처리하게 된다면  
해당 예외로 인해서 예상치 못한 다른 문제를 일으킬 수 있고, 알아차렸을 땐 이미 조치를 취하기에 너무 늦었을 수 있다.

### 예외의 종류

- **Error**
  java.lang.Error 클래스의 서브클래스  
  주로 자바 VM에서 발생시키며, OutOfMemoryError나 ThreadDeath와 같은 시스템 오류이기 때문에 애플리케이션 코드에서 잡으려고 해서는 안된다.

- **Exception**
  lava.lang.Exception 클래스의 서브클래스  
  개발자가 만든 애플리케이션 코드에서 예외가 발생했을 경우에 사용되며, **_체크 예외_** 와 **_언체크 예외_** 로 구분된다.

  - **체크 예외**
    체크 예외의 경우 반드시 예외를 처리하는 코드를 작성해야 한다.  
    catch나 throws를 통해서 처리하지 않으면 컴파일 오류가 발생한다.
  - **언체크 예외**
    RuntimeException을 상속하며 예외처리에 대해서 강제하지 않는다.

### 예외처리 방법

1. **예외 복구**
   예외를 처리하고 문제를 해결해서 정상의 상태로 되돌려 놓는다.
2. **예외 처리**
   예외를 복구해서 정상적인 상태로 만들 수 없는 경우 예외처리를 담당하지 않고 호출부로 던져버린다.  
   이 경우 호출부와 서로 직접적으로 긴밀하게 역할을 분담하고 있는 관계가 아니라면 무책임한 예외처리 방법일 수 있다.
3. **예외 전환**
   예외 처리와 동일하지만 예외 전환은 적절한 예외로 전환해서 호출부로 던진다.

### 런타임 예외의 보편화

일반적으로는 체크 예외가 일반적이 예외를 처리하고, 언체크 예외는 시스템 장내나 프로그램상의 오류에 사용했다.  
하지만 자바 엔터프라이즈 환경에서는 다수의 요청에 대해서 각각 독립적으로 작업이 진행되기 때문에 한 요청에서 발생한 예외가 다른 요청에 영향을 주지 않도록 RuntiemException을 사용하는 것이 좋다.

- **런타임 예외(언체크 예외) 중심의 전략**
  낙관적인 예외처리 기법이다.  
  일단 복구할 수 있는 예외가 없다고 가정하고 예외가 생겨도 시스템 레벨에서 알아서 처리하거나, 경우에 따라서 직접 처리할 수 있기 때문에 문제 될 것이 없다는 낙관적인 태도에 기반한다.
- **체크 예외 중심의 전략**
  비관적인 예외처리 기법이다.
  직접 처리할 수 없는 예외가 대부분이라고 하더라도 만약에 상황에 생길 수 있는 예외가 있을 수 있기 때문에 일단 잡고 보도록 강제하는 비관적인 접근 방식이다.
- **애플리케이션 예외 전략**
  시스템이나 외부의 예외상황이 원인이 아니라 애플리케이션 자체의 로직에서 의도적으로 예외를 발생시키는 전략이다.
