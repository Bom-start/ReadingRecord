# Chapter1-3.4 학습 내용 정리

3장을 학습하면서 아직 DI, IoC에 대한 이해가 부족하다고 느껴서 복습하는 차원에서 중요하다고 생각되는 부분을 요약정리

## <Vol.1 스프링의 이해와 원리> 학습 목표

스프링은 단순히 기계적으로 적용해서 사용할 수 있는 프레임워크가 아니다.  
확실한 이해를 바탕으로 창조적으로 응용해야만 스프링이 제공하는 가치를 얻을 수 있다.  
스프링이 지지하는 **가치**와 이루고자 하는 **목표**를 이해하고, **목표**를 이루기 위해서 제공하는 구체적인 **기능**에는 어떤 것이 있는지 학습한다.

---

# 스프링의 목표

스프링이 자바에서 가장 중요하게 가치를 두는 것은 **객체 지향 프로그래밍**이다.  
스프링이 제공하는 대부분의 기능들은 결국 객체 지향 **프로그래밍 원칙(SOLID 원칙)**을 잘 지키며 개발할 수 있도록 도와주기 위함이다.

## 객체 지향의 이해

객체 지향을 이해하기 위해서 SOLID 원칙과 전략 패턴에 대해서 공부하고 정리한다.

### SOLID 원칙

소프트웨어의 요구 사항은 계속해서 변경되기 때문에 코드는 언제든지 변경이 필요할 수 있다.  
변경이 필요한 상황에서 유연하게 대처하기 위해서 지켜야 하는 객체 지향 프로그래밍의 5가지 원칙을 정리한 것이 SOLID 원칙이다.

- **SRP(Single responsiblity Principle: 단일 책임 원칙)**
  "하나의 객체는 하나의 책임만 가져야 한다."  
  변화가 생겼을 때 변경이 필요한 부분에만 집중할 수 있도록 적절한 관심사 분리를 통해서 하나의 관심에 집중되도록 객체를 설계해야 한다.
- **OCP(Open-Closed Principle: 개방-폐쇄 원칙)**
  "확장에는 열려 있어야 하고, 변경에는 닫혀 있어야 한다."  
  요구 사항이 변경되어 기능이 추가되거나 수정되어도 의존하고 있는 다른 객체까지 수정하는 일이 없도록 설계해야 한다.  
  (A 객체가 B 객체에 의존하고 있을 때 B 객체가 수정되어도 A 객체는 수정할 필요가 없도록 설계해야 한다.)
- **LSP(Liskov Substitution Principle: 리스코프 치환 원칙)**
  "자식 클래스는 언제나 부모 클래스를 대체 할 수 있어야 한다."  
  인터페이스 T가 있고, T를 구현한 객체 S1, S2, S3가 있을 때 3개 객체 어느 것을 사용해도 T를 대체할 수 있어야 한다.
- **ISP(Interface Segregation Principle: 인터페이스 분리 원칙)**
  "사용하지 않는 메서드에는 의존하지 않아야 한다."  
  인터페이스는 범용적인 하나의 인터페이스보단 여러 개의 구체적인 인터페이스로 분리시킴으로써 꼭 필요한 메서드만 이용할 수 있도록 해야 한다.
- **DIP(Depenency Inversion Principle: 의존 역전 원칙)**
  "변화하기 쉬운 것에 의존하지 않고, 변화하지 않는 것에 의존해야 한다."  
  객체 간의 의존관계를 맺을 때 변화하기 쉬운 것에 의존하기보다는, 변화하지 않는 것에 의존해야 한다는 뜻이다.

### 전략 패턴

3장까지 학습을 진행하면서 코드를 개선해 가는 과정에서 전략 패턴이 여러번 나오고 있다.  
그만큼 전략 패턴은 SOLID 원칙을 모두 잘 지켜서 만들어진 디자인 패턴이다.

[전략 패턴에 사용된 SOLID 원칙을 정리한 코드](./design_pattern/Bird.java)

---

# 스프링의 기능

스프링이 제공해 주는 기능으로 대표적으로 DI/IoC, AOP, PSA가 있다. 그중에서 1장~3장에선 DI/IoC에 대해서 학습한다.

### DI(Dependency Injection)란?

의존성 주입이라는 뜻으로 객체 내부에서 직접 의존하는 객체를 생성하고 초기화하지 않고, 외부에서 객체를 생성하고 초기화한 뒤 주입 시켜주는 것을 말한다.  
의존성(의존객체)를 주입할 때에는 객체간의 결합도를 낮추기 위해서 변하지 않는 인터페이스를 사용해야 한다. (DIP 원칙)

##### DI의 장점

- 코드의 재활용성을 높여준다.
- 단위 테스트 코드를 작성하가에도 수월하다.
- 객체 간의 의존성을 줄여준다.
- 객체 간의 결합도를 낮춰준다.

##### DI를 위해서 반드시 인터페이스를 사용해야 하는가❓

꼭 인터페이스를 사용할 필요는 없다. 객체 지향 원칙을 고려한 설계의 목적이 아니라면 굳이 인터페이스를 사용할 필요는 없다는 의견이 지배적이다.  
Service -> ServiceImpl 처럼 1 인터페이스 -> 1 구현의 형태의 이유 없는 맹목적인 인터페이스 사용은 지양하는게 좋다.

### IoC(Inversion of Control)란?

제어의 역전이라는 뜻이다. 여기서 제어는 메서드 호출이나 객체의 생성하고 초기화하는 것과 같이 개발자가 직접 관리해야 하는 것들을 말한다.  
이런 제어를 개발자가 아닌 프레임워크가 결정하도록 제어권을 위임 시키는 것이 IoC의 핵심이다.

##### IoC의 장점

- 개발자가 비즈니스 로직 구현에만 집중할 수 있도록 해준다.
- 객체 지향적인 구조로 설계할 수 있도록 도와준다.

### 스프링에서 IoC

스프링은 빈 팩토리라는 컨테이너를 통해서 IoC를 제공한다. 빈 팩토리가 관리하는 객체들을 빈이라고 부르며 이러한 빈을 생성하고 의존관계를 맺어준다.  
이렇게 관리되는 빈을 생성자, 어노테이션, 메소드(setter) 주입을 통해서 DI 해준다.

> 일반적으로 빈 팩토리를 확장한 애플리케이션 컨텍스트를 주로 사용한다.
