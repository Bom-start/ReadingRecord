# 2. 테스트
## 단위 테스트
 - 항상 일관성 있는 결과가 보장되어야한다.
 - 테스트 메소드는 한번에 한 가지 검증 목적에만 충실한 것이 좋다.
 - JUnit은 특정한 테스트 메소드의 실행 순서를 보장하지 않는다. 모든 테스트는 실행 순서에 상관 없이 독립적으로 항상 동일한 결과를 내야한다.
 - Junit 예외 테스트 기능
        보통의 테스트와는 다르게 expected에 지정한 예외가 발생하면 테스트가 통과한다.
        
## Test Driven Development 테스트 주도 개발
 - 작성된 코드(만들고자 하는 기능의 내용을 포함)를 검증하는 테스트 코드 작성 후, 테스트를 성공하게 해주는 코드를 작성하는 개발 방식
 - 테스트를 작성하고 성공시키는 코드를 작성하는 주기는 되도록 짧게 작성되도록 권장함.
 
### 테스트 코드 개선
 - 테스트 시 반복적으로 등장하는 코드 제거 가능 -> @Before, @After
 
### JUnit 테스트 수행 방식
1. @Test가 붙은 public이고 void형의 파라미터가 없는 테스트 메소드를 모두 찾는다.
2. 테스트 클래스의 오브젝트를 하나 만든다.
3. @Before가 붙은 메소드가 있으면 실행한다.
    -  @Before, @After 메소드를 테스트 메소드에서 직접 호출하지 않기때문에 서로 주고받을 정보나 오브젝트는 인스턴스 변수를 사용해야한다.
4. @Test가 붙은 메소드를 하나 호출하고 테스트 결과를 저장한다.
5. @After가 붙은 메소드가 있으면 실행한다.
6. 나머지 테스트 메소드에 대해 2~5번 반복한다.
7. 모든 테스트의 결과를 종합하여 돌려준다.

## 테스트를 위한 applicationContext 관
테스트는 가능한 독립적으로 새로운 오브젝트를 만들어 사용해야한다. (JUnit이 매번 테스트 클래스의 오브젝트롤 새로 만든다.)

## 스프링 테스트 컨텍스트 프레임워크 이용
애노테이션 설정으로 테스트에 필요한 applicationContext를 만들어 모든 테스트에서 공유하여 사용 가능
```text
@RunWith(SpringJUnit4ClassRunner.class)
```
- JUnit프레임워크의 테스트 실행방법을 확장 시 사용하는 애노테이션
- SpringJUnit4ClassRunner.class Junit 확장 클래스를 지정 시, 테스트가 사용할 어플리케이션 컨텍스트를 만들고 관리.

```text
@ContextConfiguration(locations = "../applicationContext.xml")
```
- 테스트 시 사용할 어플리케이션 컨텍스트 위치 지정 
- 스프링은 설정파일 종류만큼 applicationContext를 만들어 같은 설정파일을 지정한 테스트에서 이를 공유한다.

@Autowired
DI 애노테이션, 애노테이션이 붙은 인스턴스 변수와 같은 컨텍스트 내의 빈을 찾아 인스턴스 변수에 주입시킨다.
테스트에서도 꼭 필요하지 않다면 인터페이스 타입으로 선언하여 느슨한 결합을 유지한다.

 
 