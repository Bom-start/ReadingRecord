# 프로세스와 스레드

## 1. 프로세스 개요

- 포어그라운드 프로세스 (foreground process)

- 백그라운드 프로세스 (background process)

  - 사용자 눈에 보이지 않는 프로세스

  - 유닉스에선 데몬(Demon), 윈도우에선 서비스(Service)

- 프로세스 제어 블록 (PCB)
  - 운영체제는 프로세스에 CPU를 비롯한 자원을 배분,
  - 프로세스와 관련된 정보를 저장하는 자료 구조
- 프로세스 ID (PID)
  - 프로세스 식별 고유 번호
- 레지스터 값
  - PCB 안에 프로세스가 실행하며 사용한 프로그램 카운터를 비롯한 레지스터 값을 저장
  - 그래야 자신의 실행 차례가 돌아오면 이전의 레지스터 중간값들을 복원 가능
- 프로세스 상태
- CPU 스케줄링 정보
- 메모리 관리 정보
  - 프로세스마다 메모리에 저장되는 위치가 다름	

- 문맥 교환
  - 프로세스에서 다른 프로세스로 실행 순서가 넘어갈때 발생하는 일
  - A 프로세스 실행하다가 B 프로세스 실행하면 중간 정보를 백업해둬야 다음 차례가 왔을때 이전 실행했던 내용에 이어더 다시 실행 재개가 가능.
- 프로세스 메모리 영역
  - 코드 영역
    - 기계어로 이루어진 명령어 저장하는 영역
    - 읽기 전용(read-only) 공간
  - 데이터 영역
    - 잠시 사용하고 없앨 데이터가 아니라 프로그램이 실행되는 동안 유지할 데이터가 저장되는 공간
  - 힙 영역
    - 프로그래머가 직접 할당할 수 있는 저장 공간
    - 동적 할당 영역
  - 스택 영역
    - 데이터를 일시적으로 저장하는 공간
    - 동적 할당 영역

<br>

## 2. 프로세스 상태와 계층 구조

- 프로세스 상태
  - 생성 상태 : 
    - 프로세스 생성중인 상태
  - 준비 상태 : 
    - CPU를 할당받아 실행할 수 있지만, 아직 차례를 기다리는 상태
  - 실행 상태 : 
    - CPU를 할당받아 실행중인 상태, 할당된 일정 시간동안만 CPU 사용 가능
  - 대기 상태 : 
    - 입출력 작업은 CPU에 비해 처리속도가 느리기에 입출력 장치가 실행되는 동안은 프로세스가 입출력 인터럽트를 받을때까지 기다린다. 
  - 종료 상태
    - 프로세스가 종료되면 운영체제는 PCB와 프로세스가 사용한 메모리를 정리
- 프로세스 계층 구조
  - 부모 프로세스 : 새 프로세스를 실행한 주체
  - 자식 프로세스 : 부모 프로세스에 의해 생성된 프로세스

<br>

## 3. 프로세스

- 스레드
  - 실행 단위
  - 프로세스를 구성하는 실행의 흐름 단위
- 단일 프로세스
  - 실행의 흐름 단위가 하나인 프로세스
- 멀티 프로세스
  - 여러 프로세를 동시에 실행하는 것
- 멀티 스레드
  - 여러 스레드로 프로세스를 동시에 실행하는 것